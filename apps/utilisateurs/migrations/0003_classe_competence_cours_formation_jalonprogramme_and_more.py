# Generated by Django 4.2.26 on 2025-11-10 15:42

from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        ('evaluations', '0003_accompagnement_evaluation_evaluationenseignant_and_more'),
        ('utilisateurs', '0002_remove_utilisateur_role_utilisateur_adresse_and_more'),
    ]

    operations = [
        migrations.CreateModel(
            name='Classe',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nom', models.CharField(max_length=100, verbose_name='Nom de la classe')),
                ('code', models.CharField(max_length=50, verbose_name='Code de la classe')),
                ('annee', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)], verbose_name='Année (1, 2, 3, 4...)')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Description')),
                ('date_debut', models.DateField(verbose_name='Date de début')),
                ('date_fin', models.DateField(verbose_name='Date de fin prévue')),
                ('effectif_max', models.IntegerField(default=50, validators=[django.core.validators.MinValueValidator(1)], verbose_name='Effectif maximum')),
                ('actif', models.BooleanField(default=True, verbose_name='Actif')),
            ],
            options={
                'verbose_name': 'Classe',
                'verbose_name_plural': 'Classes',
                'ordering': ['formation', 'annee'],
            },
        ),
        migrations.CreateModel(
            name='Competence',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('libelle', models.CharField(max_length=300, verbose_name='Libellé de la compétence')),
                ('domaine', models.CharField(choices=[('savoir', 'Savoir (connaissances)'), ('savoir_faire', 'Savoir-faire (habiletés)'), ('savoir_etre', 'Savoir-être (attitudes)')], default='savoir', max_length=20, verbose_name='Domaine')),
                ('description', models.TextField(verbose_name='Description')),
                ('niveau_attendu', models.TextField(help_text='Description du niveau de maîtrise attendu', verbose_name='Niveau attendu')),
            ],
            options={
                'verbose_name': 'Compétence',
                'verbose_name_plural': 'Compétences',
                'ordering': ['domaine', 'libelle'],
            },
        ),
        migrations.CreateModel(
            name='Cours',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titre', models.CharField(max_length=200, verbose_name='Titre du cours')),
                ('code', models.CharField(max_length=50, verbose_name='Code du cours')),
                ('description', models.TextField(verbose_name='Description')),
                ('contenu', models.TextField(verbose_name='Contenu détaillé')),
                ('description_methodes', models.TextField(blank=True, help_text='Comment les méthodes sont appliquées dans ce cours', null=True, verbose_name='Description des méthodes')),
                ('date_debut', models.DateField(verbose_name='Date de début')),
                ('date_fin', models.DateField(verbose_name='Date de fin')),
                ('volume_horaire', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Volume horaire (heures)')),
                ('ordre', models.IntegerField(default=0, verbose_name="Ordre d'affichage")),
                ('ressources_pedagogiques', models.TextField(blank=True, help_text='Liste des ressources (livres, articles, sites web, etc.)', null=True, verbose_name='Ressources pédagogiques')),
                ('actif', models.BooleanField(default=True, verbose_name='Actif')),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('date_modification', models.DateTimeField(auto_now=True)),
                ('classe', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cours', to='utilisateurs.classe', verbose_name='Classe')),
            ],
            options={
                'verbose_name': 'Cours',
                'verbose_name_plural': 'Cours',
                'ordering': ['classe', 'ordre', 'date_debut'],
            },
        ),
        migrations.CreateModel(
            name='Formation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nom', models.CharField(max_length=200, verbose_name='Nom de la formation')),
                ('code', models.CharField(max_length=50, unique=True, verbose_name='Code de la formation')),
                ('description', models.TextField(verbose_name='Description générale')),
                ('type_formation', models.CharField(choices=[('initiale', 'Formation initiale'), ('continue', 'Formation continue')], default='initiale', max_length=20, verbose_name='Type de formation')),
                ('nature', models.CharField(choices=[('certifiante', 'Certifiante'), ('non_certifiante', 'Non certifiante')], default='certifiante', max_length=20, verbose_name='Nature')),
                ('duree_annees', models.IntegerField(default=1, validators=[django.core.validators.MinValueValidator(1)], verbose_name='Durée en années')),
                ('duree_heures', models.IntegerField(default=0, help_text="Nombre total d'heures de formation", validators=[django.core.validators.MinValueValidator(0)], verbose_name='Durée totale en heures')),
                ('objectifs_generaux', models.TextField(help_text='Objectifs pédagogiques généraux de la formation', verbose_name='Objectifs généraux')),
                ('competences_visées', models.TextField(help_text='Liste des compétences que les étudiants doivent acquérir', verbose_name='Compétences visées')),
                ('prerequis', models.TextField(blank=True, help_text='Prérequis nécessaires pour suivre cette formation', null=True, verbose_name='Prérequis')),
                ('debouches', models.TextField(blank=True, help_text='Débouchés et opportunités professionnelles', null=True, verbose_name='Débouchés professionnels')),
                ('actif', models.BooleanField(default=True, verbose_name='Actif')),
                ('date_creation', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('date_modification', models.DateTimeField(auto_now=True, verbose_name='Date de modification')),
            ],
            options={
                'verbose_name': 'Formation',
                'verbose_name_plural': 'Formations',
                'ordering': ['nom'],
            },
        ),
        migrations.CreateModel(
            name='JalonProgramme',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nom', models.CharField(max_length=200, verbose_name='Nom du jalon')),
                ('code', models.CharField(max_length=50, verbose_name='Code du jalon')),
                ('annee', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(4)], verbose_name='Année (1-4)')),
                ('semestre', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(2)], verbose_name='Semestre (1-2)')),
                ('ordre', models.IntegerField(default=0, help_text="Ordre dans l'année", verbose_name="Ordre d'affichage")),
                ('description', models.TextField(blank=True, null=True, verbose_name='Description')),
                ('date_debut', models.DateField(verbose_name='Date de début')),
                ('date_fin', models.DateField(verbose_name='Date de fin')),
                ('volume_horaire_total', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Volume horaire total (heures)')),
                ('formation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='jalons', to='utilisateurs.formation', verbose_name='Formation')),
            ],
            options={
                'verbose_name': 'Jalon du programme',
                'verbose_name_plural': 'Jalons du programme',
                'ordering': ['formation', 'annee', 'ordre'],
                'unique_together': {('formation', 'code')},
            },
        ),
        migrations.CreateModel(
            name='MethodePedagogique',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nom', models.CharField(max_length=200, unique=True, verbose_name='Nom de la méthode')),
                ('description', models.TextField(verbose_name='Description')),
                ('avantages', models.TextField(blank=True, null=True, verbose_name='Avantages')),
                ('inconvenients', models.TextField(blank=True, null=True, verbose_name='Inconvénients')),
                ('contexte_utilisation', models.TextField(blank=True, help_text='Quand et comment utiliser cette méthode', null=True, verbose_name="Contexte d'utilisation")),
            ],
            options={
                'verbose_name': 'Méthode pédagogique',
                'verbose_name_plural': 'Méthodes pédagogiques',
                'ordering': ['nom'],
            },
        ),
        migrations.CreateModel(
            name='ObjectifApprentissage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('libelle', models.CharField(max_length=500, verbose_name="Libellé de l'objectif")),
                ('niveau', models.CharField(choices=[('connaissance', 'Connaissance'), ('comprehension', 'Compréhension'), ('application', 'Application'), ('analyse', 'Analyse'), ('synthese', 'Synthèse'), ('evaluation', 'Évaluation')], default='connaissance', max_length=20, verbose_name='Niveau taxonomique')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Description détaillée')),
                ('criteres_evaluation', models.TextField(help_text="Comment évaluer si l'objectif est atteint", verbose_name="Critères d'évaluation")),
            ],
            options={
                'verbose_name': "Objectif d'apprentissage",
                'verbose_name_plural': "Objectifs d'apprentissage",
                'ordering': ['niveau', 'libelle'],
            },
        ),
        migrations.AddField(
            model_name='utilisateur',
            name='classe',
            field=models.CharField(blank=True, help_text='Ex: Médecine 6, DESMFMC 1ère année, etc.', max_length=50, null=True, verbose_name='Classe'),
        ),
        migrations.AddField(
            model_name='utilisateur',
            name='email_verifie',
            field=models.BooleanField(default=False, verbose_name='Email vérifié'),
        ),
        migrations.AddField(
            model_name='utilisateur',
            name='matieres',
            field=models.CharField(blank=True, help_text='Liste des matières séparées par des virgules', max_length=500, null=True, verbose_name='Matières enseignées'),
        ),
        migrations.AddField(
            model_name='utilisateur',
            name='niveau_acces',
            field=models.CharField(choices=[('limite', 'Accès limité'), ('standard', 'Accès standard'), ('complet', 'Accès complet')], default='standard', help_text='Accès complet = accès à tout le contenu', max_length=20, verbose_name="Niveau d'accès"),
        ),
        migrations.AddField(
            model_name='utilisateur',
            name='type_utilisateur',
            field=models.CharField(choices=[('etudiant', 'Étudiant'), ('enseignant', 'Enseignant')], default='etudiant', max_length=20, verbose_name="Type d'utilisateur"),
        ),
        migrations.AlterField(
            model_name='utilisateur',
            name='email',
            field=models.EmailField(max_length=254, unique=True, verbose_name='Adresse e-mail'),
        ),
        migrations.CreateModel(
            name='SessionEvaluationEnLigne',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titre', models.CharField(max_length=200, verbose_name='Titre de la session')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Description')),
                ('date_debut_prevue', models.DateTimeField(verbose_name='Date et heure de début prévue')),
                ('date_fin_prevue', models.DateTimeField(verbose_name='Date et heure de fin prévue')),
                ('date_debut_reelle', models.DateTimeField(blank=True, null=True, verbose_name='Date de début réelle')),
                ('date_fin_reelle', models.DateTimeField(blank=True, null=True, verbose_name='Date de fin réelle')),
                ('statut', models.CharField(choices=[('planifiee', 'Planifiée'), ('en_attente', 'En attente de démarrage'), ('en_cours', 'En cours'), ('terminee', 'Terminée'), ('annulee', 'Annulée')], default='planifiee', max_length=20, verbose_name='Statut')),
                ('verrouillee', models.BooleanField(default=False, help_text='Si verrouillée, seuls les étudiants déjà connectés peuvent continuer', verbose_name='Session verrouillée')),
                ('date_verrouillage', models.DateTimeField(blank=True, help_text='Date à laquelle la session a été verrouillée', null=True, verbose_name='Date de verrouillage')),
                ('instructions', models.TextField(blank=True, help_text='Instructions spécifiques pour cette session', null=True, verbose_name='Instructions')),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('date_modification', models.DateTimeField(auto_now=True)),
                ('enseignant', models.ForeignKey(limit_choices_to={'type_utilisateur': 'enseignant'}, on_delete=django.db.models.deletion.CASCADE, related_name='sessions_evaluation_enseignees', to=settings.AUTH_USER_MODEL, verbose_name='Enseignant')),
                ('etudiants_connectes', models.ManyToManyField(blank=True, help_text='Étudiants qui étaient connectés au moment du verrouillage', limit_choices_to={'type_utilisateur': 'etudiant'}, related_name='sessions_evaluation_connectees', to=settings.AUTH_USER_MODEL, verbose_name='Étudiants connectés')),
                ('evaluation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sessions_en_ligne', to='evaluations.evaluation', verbose_name='Évaluation')),
                ('participants_autorises', models.ManyToManyField(blank=True, help_text='Si vide, tous les étudiants de la classe peuvent participer', limit_choices_to={'type_utilisateur': 'etudiant'}, related_name='sessions_evaluation_participantes', to=settings.AUTH_USER_MODEL, verbose_name='Participants autorisés')),
            ],
            options={
                'verbose_name': "Session d'évaluation en ligne",
                'verbose_name_plural': "Sessions d'évaluation en ligne",
                'ordering': ['-date_debut_prevue'],
            },
        ),
        migrations.CreateModel(
            name='SessionCoursEnLigne',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titre', models.CharField(max_length=200, verbose_name='Titre de la session')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Description')),
                ('date_debut_prevue', models.DateTimeField(verbose_name='Date et heure de début prévue')),
                ('date_fin_prevue', models.DateTimeField(verbose_name='Date et heure de fin prévue')),
                ('date_debut_reelle', models.DateTimeField(blank=True, null=True, verbose_name='Date de début réelle')),
                ('date_fin_reelle', models.DateTimeField(blank=True, null=True, verbose_name='Date de fin réelle')),
                ('statut', models.CharField(choices=[('planifiee', 'Planifiée'), ('en_cours', 'En cours'), ('terminee', 'Terminée'), ('annulee', 'Annulée')], default='planifiee', max_length=20, verbose_name='Statut')),
                ('contenu_session', models.TextField(blank=True, help_text='Contenu, présentation, documents partagés', null=True, verbose_name='Contenu de la session')),
                ('lien_session', models.URLField(blank=True, help_text='Lien pour rejoindre la session (Zoom, Teams, etc.)', null=True, verbose_name='Lien de la session')),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('date_modification', models.DateTimeField(auto_now=True)),
                ('cours', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sessions_en_ligne', to='utilisateurs.cours', verbose_name='Cours')),
                ('enseignant', models.ForeignKey(limit_choices_to={'type_utilisateur': 'enseignant'}, on_delete=django.db.models.deletion.CASCADE, related_name='sessions_cours_enseignees', to=settings.AUTH_USER_MODEL, verbose_name='Enseignant')),
                ('participants_autorises', models.ManyToManyField(blank=True, help_text='Si vide, tous les étudiants de la classe peuvent participer', limit_choices_to={'type_utilisateur': 'etudiant'}, related_name='sessions_cours_participantes', to=settings.AUTH_USER_MODEL, verbose_name='Participants autorisés')),
            ],
            options={
                'verbose_name': 'Session de cours en ligne',
                'verbose_name_plural': 'Sessions de cours en ligne',
                'ordering': ['-date_debut_prevue'],
            },
        ),
        migrations.CreateModel(
            name='Planification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titre', models.CharField(max_length=200, verbose_name='Titre')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Description')),
                ('type_activite', models.CharField(choices=[('cours', 'Cours magistral'), ('td', 'Travaux Dirigés (TD)'), ('tp', 'Travaux Pratiques (TP)'), ('stage', 'Stage'), ('examen', 'Examen'), ('evaluation', 'Évaluation'), ('conference', 'Conférence'), ('atelier', 'Atelier'), ('autre', 'Autre')], default='cours', max_length=50, verbose_name="Type d'activité")),
                ('date_debut', models.DateTimeField(verbose_name='Date et heure de début')),
                ('date_fin', models.DateTimeField(verbose_name='Date et heure de fin')),
                ('duree_heures', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Durée en heures')),
                ('lieu', models.CharField(blank=True, max_length=200, null=True, verbose_name='Lieu')),
                ('actif', models.BooleanField(default=True, verbose_name='Actif')),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
                ('classe', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='planifications', to='utilisateurs.classe', verbose_name='Classe')),
                ('cours_lie', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='planifications', to='utilisateurs.cours', verbose_name='Cours lié')),
                ('enseignant', models.ForeignKey(blank=True, limit_choices_to={'type_utilisateur': 'enseignant'}, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='planifications', to=settings.AUTH_USER_MODEL, verbose_name='Enseignant')),
                ('methodes_utilisees', models.ManyToManyField(blank=True, related_name='planifications', to='utilisateurs.methodepedagogique', verbose_name='Méthodes pédagogiques utilisées')),
                ('objectifs_seance', models.ManyToManyField(blank=True, related_name='planifications', to='utilisateurs.objectifapprentissage', verbose_name='Objectifs de la séance')),
            ],
            options={
                'verbose_name': 'Planification',
                'verbose_name_plural': 'Planifications',
                'ordering': ['date_debut'],
            },
        ),
        migrations.CreateModel(
            name='ModuleProgramme',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nom', models.CharField(max_length=200, verbose_name='Nom du module')),
                ('code', models.CharField(max_length=50, verbose_name='Code du module')),
                ('description', models.TextField(verbose_name='Description')),
                ('volume_horaire', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Volume horaire (heures)')),
                ('ordre', models.IntegerField(default=0, verbose_name='Ordre dans le jalon')),
                ('actif', models.BooleanField(default=True, verbose_name='Actif')),
                ('competences_module', models.ManyToManyField(blank=True, related_name='modules', to='utilisateurs.competence', verbose_name='Compétences visées')),
                ('jalon', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='modules', to='utilisateurs.jalonprogramme', verbose_name='Jalon')),
                ('objectifs_module', models.ManyToManyField(blank=True, related_name='modules', to='utilisateurs.objectifapprentissage', verbose_name="Objectifs d'apprentissage")),
                ('prerequis_modules', models.ManyToManyField(blank=True, related_name='modules_suivants', to='utilisateurs.moduleprogramme', verbose_name='Modules prérequis')),
            ],
            options={
                'verbose_name': 'Module du programme',
                'verbose_name_plural': 'Modules du programme',
                'ordering': ['jalon', 'ordre'],
                'unique_together': {('jalon', 'code')},
            },
        ),
        migrations.AddField(
            model_name='cours',
            name='co_enseignants',
            field=models.ManyToManyField(blank=True, limit_choices_to={'type_utilisateur': 'enseignant'}, related_name='cours_co_enseignes', to=settings.AUTH_USER_MODEL, verbose_name='Co-enseignants'),
        ),
        migrations.AddField(
            model_name='cours',
            name='competences',
            field=models.ManyToManyField(blank=True, related_name='cours', to='utilisateurs.competence', verbose_name='Compétences visées'),
        ),
        migrations.AddField(
            model_name='cours',
            name='enseignant',
            field=models.ForeignKey(blank=True, limit_choices_to={'type_utilisateur': 'enseignant'}, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='cours_enseignes', to=settings.AUTH_USER_MODEL, verbose_name='Enseignant principal'),
        ),
        migrations.AddField(
            model_name='cours',
            name='methodes_pedagogiques',
            field=models.ManyToManyField(blank=True, related_name='cours', to='utilisateurs.methodepedagogique', verbose_name='Méthodes pédagogiques'),
        ),
        migrations.AddField(
            model_name='cours',
            name='objectifs_apprentissage',
            field=models.ManyToManyField(blank=True, related_name='cours', to='utilisateurs.objectifapprentissage', verbose_name="Objectifs d'apprentissage"),
        ),
        migrations.CreateModel(
            name='CodeVerification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(max_length=6, verbose_name='Code de vérification')),
                ('cree_le', models.DateTimeField(auto_now_add=True, verbose_name='Créé le')),
                ('expire_le', models.DateTimeField(verbose_name='Expire le')),
                ('utilise', models.BooleanField(default=False, verbose_name='Utilisé')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='codes_verification', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Code de vérification',
                'verbose_name_plural': 'Codes de vérification',
                'ordering': ['-cree_le'],
            },
        ),
        migrations.AddField(
            model_name='classe',
            name='formation',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='classes', to='utilisateurs.formation', verbose_name='Formation'),
        ),
        migrations.AddField(
            model_name='classe',
            name='responsable',
            field=models.ForeignKey(blank=True, limit_choices_to={'type_utilisateur': 'enseignant'}, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='classes_responsables', to=settings.AUTH_USER_MODEL, verbose_name='Responsable pédagogique'),
        ),
        migrations.CreateModel(
            name='SuiviProgressionProgramme',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('statut', models.CharField(choices=[('non_commence', 'Non commencé'), ('en_cours', 'En cours'), ('termine', 'Terminé'), ('valide', 'Validé'), ('non_valide', 'Non validé')], default='non_commence', max_length=20, verbose_name='Statut')),
                ('pourcentage_completion', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Pourcentage de complétion')),
                ('date_debut', models.DateTimeField(blank=True, null=True, verbose_name='Date de début')),
                ('date_fin', models.DateTimeField(blank=True, null=True, verbose_name='Date de fin')),
                ('derniere_activite', models.DateTimeField(auto_now=True, verbose_name='Dernière activité')),
                ('note_finale', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Note finale')),
                ('commentaires', models.TextField(blank=True, null=True, verbose_name='Commentaires')),
                ('etudiant', models.ForeignKey(limit_choices_to={'type_utilisateur': 'etudiant'}, on_delete=django.db.models.deletion.CASCADE, related_name='progression_programme', to=settings.AUTH_USER_MODEL, verbose_name='Étudiant')),
                ('jalon', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='progressions', to='utilisateurs.jalonprogramme', verbose_name='Jalon')),
            ],
            options={
                'verbose_name': 'Suivi progression programme',
                'verbose_name_plural': 'Suivis progression programme',
                'ordering': ['jalon__annee', 'jalon__ordre'],
                'unique_together': {('etudiant', 'jalon')},
            },
        ),
        migrations.CreateModel(
            name='ProgressionEtudiant',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('statut', models.CharField(choices=[('non_commence', 'Non commencé'), ('en_cours', 'En cours'), ('termine', 'Terminé'), ('valide', 'Validé'), ('non_valide', 'Non validé')], default='non_commence', max_length=20, verbose_name='Statut')),
                ('pourcentage_completion', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Pourcentage de complétion')),
                ('date_debut', models.DateTimeField(blank=True, null=True, verbose_name='Date de début')),
                ('date_fin', models.DateTimeField(blank=True, null=True, verbose_name='Date de fin')),
                ('derniere_activite', models.DateTimeField(auto_now=True, verbose_name='Dernière activité')),
                ('notes', models.TextField(blank=True, null=True, verbose_name='Notes personnelles')),
                ('commentaires_enseignant', models.TextField(blank=True, null=True, verbose_name="Commentaires de l'enseignant")),
                ('competences_acquises', models.ManyToManyField(blank=True, related_name='progressions_competences', to='utilisateurs.competence', verbose_name='Compétences acquises')),
                ('cours', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='progressions', to='utilisateurs.cours', verbose_name='Cours')),
                ('etudiant', models.ForeignKey(limit_choices_to={'type_utilisateur': 'etudiant'}, on_delete=django.db.models.deletion.CASCADE, related_name='progressions', to=settings.AUTH_USER_MODEL, verbose_name='Étudiant')),
                ('objectifs_atteints', models.ManyToManyField(blank=True, related_name='progressions_objectifs', to='utilisateurs.objectifapprentissage', verbose_name='Objectifs atteints')),
            ],
            options={
                'verbose_name': 'Progression étudiant',
                'verbose_name_plural': 'Progressions étudiants',
                'ordering': ['-derniere_activite'],
                'unique_together': {('etudiant', 'cours')},
            },
        ),
        migrations.CreateModel(
            name='CoursProgramme',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ordre', models.IntegerField(default=0, verbose_name='Ordre dans le module')),
                ('obligatoire', models.BooleanField(default=True, verbose_name='Cours obligatoire')),
                ('cours', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cours_programmes', to='utilisateurs.cours', verbose_name='Cours')),
                ('module', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cours_programme', to='utilisateurs.moduleprogramme', verbose_name='Module')),
            ],
            options={
                'verbose_name': 'Cours du programme',
                'verbose_name_plural': 'Cours du programme',
                'ordering': ['module', 'ordre'],
                'unique_together': {('module', 'cours')},
            },
        ),
        migrations.AlterUniqueTogether(
            name='classe',
            unique_together={('formation', 'annee', 'code')},
        ),
    ]
